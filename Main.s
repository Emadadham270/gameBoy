	AREA MYDATAS, DATA, READONLY
;--- Colors ---
Red     EQU 0Xf800 
Green   EQU 0xF0FF
Blue    EQU 0x02ff 
Yellow  EQU 0xFfe0
White   EQU 0xffff
Black	EQU 0x0000
	
	

	AREA MYCODE, CODE, READONLY
	
	EXPORT __main
	IMPORT CONFIGURE_PORTS
	IMPORT TFT_WriteCommand
	IMPORT TFT_WriteData
	IMPORT TFT_Init
	IMPORT TFT_DrawImage
	IMPORT TFT_DrawGrid
	IMPORT TFT_Filldraw4INP
	IMPORT GET_state
	IMPORT delay
	IMPORT delaywithIN
 
	IMPORT Main_Game_XO

__main FUNCTION

<<<<<<< HEAD

	;FINAL TODO: CALL FUNCTION SETUP
	BL CONFIGURE_PORTS
=======
	;CALL FUNCTION SETUP
	;BL SETUP ; all THE INTIALIZATION
	LDR R0, =RCC_BASE + RCC_AHB1ENR
    LDR R1, [R0]
    ORR R1, R1, #0x0f
    STR R1, [R0]

    ; Configure GPIOE as General Purpose Output Mode
    LDR R0, =GPIOA_BASE + GPIO_MODER
    LDR R1, =0x55555555  
    STR R1, [R0]

    ; Configure output speed for GPIOE (High Speed)
    LDR R0, =GPIOA_BASE + GPIO_OSPEEDR
    LDR R1, =0xFFFFFFFF  
    STR R1, [R0]
	
	
	; Configure PORT B AS INPUT 
 	LDR R0, =GPIOB_BASE + GPIO_MODER               
 	MOV R2, #0x00000000    
 	STR R2, [R0]
 	;SPEED PORT B
 	LDR R0, =GPIOB_BASE + GPIO_OSPEEDR
 	MOV R2, #0xFFFFFFFF
 	STR R2, [R0]
	;PUSH/PULL
 	LDR R0, =GPIOB_BASE + GPIO_OTYPER
 	MOV R2, #0x00000000
 	STR R2, [R0]
	;PULL UP 
 	LDR R0, =GPIOB_BASE + GPIO_PUPDR
 	MOV R2, #0x55555555
 	STR R2, [R0]
>>>>>>> 12e69b9ef82c3c02be95cc10467e2c1a7a9a3913
    ; Initialize TFT
    BL TFT_Init

	BL Main_Game_XO

    ENDFUNC
	
	END
